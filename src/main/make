#!/usr/bin/make -f

# < Configuration >
CC=gcc -Wall -Wextra -std=gnu11 -Isrc/gen -Isrc/utils
LD=gcc

all: bin/main/newdetect

help:
	@echo "Do not call this make directly."
	@echo "Use ./build in project root"

.PHONY: all help
.DEFAULT: all

bin/main/newdetect: obj/main/newdetect.o obj/gen/naming_utils.o
	${LD} obj/main/newdetect.o obj/gen/naming_utils.o -rdynamic -o bin/main/newdetect
obj/main/newdetect.o: src/main/newdetect.c src/utils/associative_array.h src/utils/die.h src/utils/tracing_utils.h src/gen/naming_utils.h
	${CC} -c src/main/newdetect.c -o obj/main/newdetect.o
